<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code-Generator</title>
    <style>
        * {
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            -webkit-user-select: none;
            outline: none !important;
            box-sizing: border-box;
        }

        body { 
            font-family: 'Segoe UI', Roboto, sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            background: radial-gradient(circle, #ffffff 0%, #fff4e6 100%); 
            margin: 0; 
            overflow: hidden;
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 35px;
            font-weight: bold;
            color: #ff7b00;
            cursor: pointer;
            text-decoration: none;
            line-height: 1;
            z-index: 100;
            transition: transform 0.2s ease;
        }

        .close-btn:hover {
            transform: scale(1.2);
            color: #cc4e00;
        }

        @keyframes slideIn {
            0% { transform: translateY(-100px) scale(0.8); opacity: 0; }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }

        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .modal-content { 
            background: #ffffff; 
            padding: 40px 25px; 
            border-radius: 35px; 
            box-shadow: 0 25px 60px rgba(255, 122, 0, 0.2); 
            text-align: center; 
            width: 90%;
            max-width: 380px; 
            border: 1px solid rgba(255, 255, 255, 0.9);
            animation: slideIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
        }

        h2 {
            color: #222;
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(90deg, #444, #ff7b00, #444);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 3s linear infinite;
            margin: 0 0 5px 0;
        }

        #timerBox {
            font-size: 0.85rem;
            color: #888;
            margin-bottom: 20px;
            font-weight: 600;
            display: none;
        }

        .code-display { 
            background: #ffffff; 
            padding: 25px 15px; 
            font-family: 'JetBrains Mono', monospace; 
            font-size: 1.3rem; 
            font-weight: 800; 
            letter-spacing: 3px; 
            border-radius: 22px;
            margin: 15px 0 25px 0; 
            color: #e65100; 
            word-break: break-all; 
            box-shadow: inset 8px 8px 15px #e0e0e0, inset -8px -8px 15px #ffffff;
            border: 2px solid #ffcc80;
            position: relative;
        }

        .code-display.new-code { animation: popIn 0.5s ease; }

        .button-group { display: flex; flex-direction: column; gap: 20px; }

        .pushable { position: relative; background: transparent; padding: 0; border: none; cursor: pointer; outline: none; }
        .pushable:disabled { cursor: not-allowed; filter: grayscale(1); opacity: 0.5; }

        .shadow { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 16px; background: rgba(0, 0, 0, 0.15); transform: translateY(4px); transition: transform 600ms; }
        .edge { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 16px; background: linear-gradient(to left, #cc4e00 0%, #ff7b00 8%, #ff7b00 92%, #cc4e00 100%); }
        .front { display: block; position: relative; padding: 18px; border-radius: 16px; font-size: 1.1rem; font-weight: 800; color: white; background: linear-gradient(135deg, #ff9d2e 0%, #ff6a00 100%); transform: translateY(-8px); transition: transform 150ms; text-transform: uppercase; letter-spacing: 2px; border: 1px solid rgba(255, 255, 255, 0.3); }

        .pushable:not(:disabled):hover .front { transform: translateY(-10px); }
        .pushable:not(:disabled):active .front { transform: translateY(-2px); }
        .copy-front { background: linear-gradient(135deg, #ffffff 0%, #f9f9f9 100%) !important; color: #ff6a00 !important; border: 1px solid #ffcc80 !important; }

        #copyContainer { display: none; }
        #toast { visibility: hidden; min-width: 180px; background: #1a1a1a; color: white; text-align: center; border-radius: 50px; padding: 16px; position: fixed; bottom: 40px; font-weight: 700; opacity: 0; transition: 0.4s; z-index: 1000; }
        #toast.show { visibility: visible; opacity: 1; }
    </style>
</head>
<body oncontextmenu="return false;">

<a href="https://gg-sun.in" class="close-btn">&times;</a>

<div class="modal-content">
    <h2>GENERATOR</h2>
    <div id="timerBox">Next Reset: <span id="countdown">00:00:00</span></div>
    
    <div id="generatedCode" class="code-display">Generate Now</div>
    
    <div class="button-group">
        <button id="genBtn" class="pushable" onclick="generatePatternCode()">
            <span class="shadow"></span>
            <span class="edge"></span>
            <span class="front">Generate Code</span>
        </button>

        <div id="copyContainer">
            <button class="pushable" onclick="copyCode()" style="width: 100%;">
                <span class="shadow"></span>
                <span class="edge" style="background: #bbb;"></span>
                <span class="front copy-front">Copy Clipboard</span>
            </button>
        </div>
    </div>
</div>

<div id="toast">CODE COPIED</div>

<script>
    const STORAGE_KEY = 'daily_pattern_code';
    const DATE_KEY = 'last_gen_date';

    window.onload = function() {
        checkAndResetStorage();
        loadStoredCode();
        startCountdown();
    };

    function checkAndResetStorage() {
        const lastDate = localStorage.getItem(DATE_KEY);
        const today = new Date().toLocaleDateString();
        if (lastDate && lastDate !== today) {
            localStorage.removeItem(STORAGE_KEY);
            localStorage.removeItem(DATE_KEY);
        }
    }

    function loadStoredCode() {
        const storedCode = localStorage.getItem(STORAGE_KEY);
        if (storedCode) {
            updateUI(storedCode);
        }
    }

    function startCountdown() {
        setInterval(() => {
            const now = new Date();
            const tomorrow = new Date();
            tomorrow.setHours(24, 0, 0, 0);

            const diff = tomorrow - now;
            
            if (diff <= 0) {
                localStorage.clear();
                location.reload();
            }

            const hours = String(Math.floor((diff / (1000 * 60 * 60)) % 24)).padStart(2, '0');
            const minutes = String(Math.floor((diff / (1000 * 60)) % 60)).padStart(2, '0');
            const seconds = String(Math.floor((diff / 1000) % 60)).padStart(2, '0');

            document.getElementById("countdown").innerText = `${hours}:${minutes}:${seconds}`;
        }, 1000);
    }

    function generatePatternCode() {
        if (localStorage.getItem(STORAGE_KEY)) return;

        const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
        const pattern = "SUNAM"; 
        let finalCode = "";

        for (let i = 0; i < pattern.length; i++) {
            let randomPart = "";
            for (let j = 0; j < 3; j++) { 
                randomPart += chars.charAt(Math.floor(Math.random() * chars.length)); 
            }
            finalCode += randomPart + pattern[i];
        }

        localStorage.setItem(STORAGE_KEY, finalCode);
        localStorage.setItem(DATE_KEY, new Date().toLocaleDateString());

        updateUI(finalCode);
        document.getElementById("generatedCode").classList.add('new-code');

        if (navigator.vibrate) navigator.vibrate([30, 20, 30]);
    }

    function updateUI(code) {
        document.getElementById("generatedCode").innerText = code;
        document.getElementById("genBtn").disabled = true;
        document.getElementById("copyContainer").style.display = "block";
        document.getElementById("timerBox").style.display = "block";
    }

    function copyCode() {
        const text = document.getElementById("generatedCode").innerText;
        navigator.clipboard.writeText(text).then(() => {
            const toast = document.getElementById("toast");
            toast.classList.add("show");
            setTimeout(() => toast.classList.remove("show"), 2500);
        });
    }
</script>

</body>
</html>