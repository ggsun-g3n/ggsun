<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GG-SUN | Customer</title>
    <style>
        :root {
            --primary: #ff6600; 
            --primary-light: #ff944d;
            --alexa: #ff4500; 
            --bg: #fffcf9; 
            --white: #ffffff;
            --text: #333;
            --danger: #dc3545;
            --warning: #ffc107;
            --success: #28a745;
            --shine: rgba(255, 255, 255, 0.4);
        }

        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }

        body { 
            margin: 0; padding: 80px 0 0 0; min-height: 100vh; 
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
            background: var(--bg); color: var(--text);
            display: flex; flex-direction: column;
        }

        /* Animations */
        @keyframes shine-sweep { 0% { left: -100%; } 100% { left: 100%; } }
        @keyframes border-glow { 0%, 100% { border-color: #ffeddf; } 50% { border-color: var(--primary-light); } }

        header {
            background: var(--white); border-bottom: 2px solid #ffeddf; padding: 10px 20px;
            position: fixed; top: 0; width: 100%; z-index: 1000;
            display: flex; align-items: center; justify-content: space-between;
        }

        .alexa-btn {
            background: linear-gradient(135deg, var(--primary), var(--alexa)); 
            color: white; border: none; padding: 10px 22px; border-radius: 25px; 
            font-weight: bold; cursor: pointer; position: relative; overflow: hidden;
        }

        .search-bar {
            background: #fff5ee; border: 1px solid #ffdac1; padding: 10px 15px;
            width: 160px; border-radius: 25px; outline: none;
            animation: border-glow 4s infinite ease-in-out;
        }

        .alexa-btn::after, .copy-btn::after {
            content: ""; position: absolute; top: 0; height: 100%; width: 50px;
            background: var(--shine); transform: skewX(-25deg); left: -100%;
            animation: shine-sweep 3s infinite linear;
        }

        main { max-width: 600px; margin: 0 auto; padding: 20px; width: 100%; flex-grow: 1; }

        .post-card { 
            background: white; border: 1px solid #ffeddf; border-radius: 12px; 
            padding: 20px; margin-bottom: 20px; position: relative;
            transition: transform 0.2s;
        }
        
        .post-num { color: var(--primary); font-weight: bold; font-size: 11px; text-transform: uppercase; }
        .post-title { margin: 5px 0 10px 0; font-size: 20px; }
        .post-content { color: #555; line-height: 1.6; font-size: 15px; white-space: pre-wrap; padding-bottom: 40px; }

        .copy-btn {
            position: absolute; bottom: 15px; right: 15px;
            background: #fff5ee; border: 1px solid #ffdac1; padding: 8px 16px; border-radius: 8px;
            font-size: 12px; cursor: pointer; font-weight: bold; color: var(--primary);
            overflow: hidden;
        }

        /* Modals */
        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(3px); z-index: 2000; 
            justify-content: center; align-items: center; padding: 20px;
        }

        .gui-box {
            background: white; padding: 25px; border-radius: 15px; width: 100%; max-width: 380px;
            border-top: 5px solid var(--primary);
        }

        .menu-btn {
            width: 100%; padding: 14px; margin-bottom: 10px; border: none; border-radius: 8px;
            color: white; font-weight: bold; cursor: pointer;
        }

        .btn-new-trigger { background: var(--success); }
        .btn-edit-trigger { background: var(--warning); color: #333; }
        .btn-delete-trigger { background: var(--danger); }
        .btn-close { background: #888; }

        input, textarea {
            width: 100%; padding: 12px; border: 1px solid #ffdac1; border-radius: 8px; 
            margin-bottom: 15px; font-family: inherit; background: #fffcf9;
        }

        footer {
            text-align: center; padding: 30px 10px; color: #888; font-size: 13px;
            background: var(--white); border-top: 1px solid #ffeddf;
        }

        .toast {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: #333; color: white; padding: 12px 25px; border-radius: 50px;
            z-index: 3000; box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body onload="loadFromLocal()">

    <div id="notification-container"></div>

    <header>
        <button class="alexa-btn" onclick="checkAdminPassword()">ADMIN</button>
        <input type="text" id="searchInput" class="search-bar" placeholder="Search title" onkeyup="searchPosts()">
    </header>

    <div class="modal-overlay" id="mainMenu">
        <div class="gui-box">
            <h2 style="text-align:center; margin-top:0;">Control Panel</h2>
            <button class="menu-btn btn-new-trigger" onclick="switchModal('mainMenu', 'createGUI')">New Post</button>
            <button class="menu-btn btn-edit-trigger" onclick="switchModal('mainMenu', 'editGUI')">Edit Post</button>
            <button class="menu-btn btn-delete-trigger" onclick="switchModal('mainMenu', 'deleteGUI')">Delete Post</button>
            <button class="menu-btn btn-close" onclick="closeModal('mainMenu')">Exit</button>
        </div>
    </div>

    <div class="modal-overlay" id="createGUI">
        <div class="gui-box">
            <h2>Create Post</h2>
            <input type="text" id="cTitle" placeholder="Title">
            <textarea id="cContent" rows="5" placeholder="Content..."></textarea>
            <input type="password" id="cPass" placeholder="Admin Key">
            <button class="menu-btn btn-new-trigger" onclick="handleCreate()">Publish</button>
            <button class="menu-btn btn-close" onclick="openModal('mainMenu')">Back</button>
        </div>
    </div>

    <div class="modal-overlay" id="editGUI">
        <div class="gui-box">
            <h2>Edit Post</h2>
            <input type="number" id="eNum" placeholder="Post Number">
            <input type="text" id="eTitle" placeholder="New Title">
            <textarea id="eContent" rows="4" placeholder="New Content"></textarea>
            <input type="password" id="ePass" placeholder="Admin Key">
            <button class="menu-btn btn-edit-trigger" onclick="handleEdit()">Update</button>
            <button class="menu-btn btn-close" onclick="openModal('mainMenu')">Back</button>
        </div>
    </div>

    <div class="modal-overlay" id="deleteGUI">
        <div class="gui-box">
            <h2>Remove Post</h2>
            <input type="number" id="dNum" placeholder="Post Number">
            <input type="password" id="dPass" placeholder="Admin Key">
            <button class="menu-btn btn-delete-trigger" onclick="handleDelete()">Confirm Delete</button>
            <button class="menu-btn btn-close" onclick="openModal('mainMenu')">Back</button>
        </div>
    </div>

    <main id="feed"></main>

    <footer>
        &copy; 2025-2026 GG-SUN. All rights reserved.
    </footer>

    <script>
        let posts = [];
        const secret = "sunam20m";

        function showNotification(msg) {
            const container = document.getElementById('notification-container');
            container.innerHTML = `<div class="toast">${msg}</div>`;
            setTimeout(() => { container.innerHTML = ''; }, 2500);
        }

        function copyPost(index) {
            const post = posts[index];
            const textToCopy = `${post.title}\n\n${post.content}`;
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                showNotification("Copied to clipboard!");
            }).catch(() => {
                const textArea = document.createElement("textarea");
                textArea.value = textToCopy;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification("Copied!");
            });
        }

        function saveToLocal() { localStorage.setItem('ggsun_posts', JSON.stringify(posts)); }
        
        function loadFromLocal() {
            const saved = localStorage.getItem('ggsun_posts');
            if (saved) { posts = JSON.parse(saved); renderPosts(); }
        }

        function renderPosts() {
            const feed = document.getElementById('feed');
            if (posts.length === 0) {
                feed.innerHTML = '<p style="text-align:center; color:#999;">No posts found. Add one from Admin panel.</p>';
                return;
            }
            feed.innerHTML = posts.map((post, index) => `
                <article class="post-card">
                    <span class="post-num">POST #${index + 1}</span>
                    <h2 class="post-title">${post.title}</h2>
                    <div class="post-content">${post.content}</div>
                    <button class="copy-btn" onclick="copyPost(${index})">COPY TEXT</button>
                </article>
            `).join('');
        }

        function checkAdminPassword() {
            const pass = prompt("Enter Admin Password:");
            if (pass === secret) { openModal('mainMenu'); } 
            else if (pass) { alert("Access Denied!"); }
        }

        function handleCreate() {
            const t = document.getElementById('cTitle').value, 
                  c = document.getElementById('cContent').value, 
                  p = document.getElementById('cPass').value;
            if (p !== secret) return showNotification("Wrong Password!");
            if (!t || !c) return showNotification("All fields required!");
            posts.push({ title: t, content: c });
            finalizeAction();
        }

        function handleEdit() {
            const n = parseInt(document.getElementById('eNum').value) - 1, 
                  t = document.getElementById('eTitle').value, 
                  c = document.getElementById('eContent').value, 
                  p = document.getElementById('ePass').value;
            if (p !== secret) return showNotification("Wrong Password!");
            if (!posts[n]) return showNotification("Post not found!");
            if (t) posts[n].title = t; 
            if (c) posts[n].content = c;
            finalizeAction();
        }

        function handleDelete() {
            const n = parseInt(document.getElementById('dNum').value) - 1, 
                  p = document.getElementById('dPass').value;
            if (p !== secret) return showNotification("Wrong Password!");
            if (!posts[n]) return showNotification("Post not found!");
            posts.splice(n, 1);
            finalizeAction();
        }

        function finalizeAction() {
            saveToLocal(); renderPosts(); closeAllModals(); clearInputs();
            showNotification("Success!");
        }

        function openModal(id) { closeAllModals(); document.getElementById(id).style.display = 'flex'; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }
        function closeAllModals() { document.querySelectorAll('.modal-overlay').forEach(m => m.style.display = 'none'); }
        function switchModal(old, next) { closeModal(old); openModal(next); }
        function clearInputs() { document.querySelectorAll('input, textarea').forEach(i => i.value = ''); }
        
        function searchPosts() {
            let input = document.getElementById('searchInput').value.toLowerCase();
            let cards = document.getElementsByClassName('post-card');
            for (let card of cards) {
                card.style.display = card.innerText.toLowerCase().includes(input) ? "block" : "none";
            }
        }
    </script>
</body>
</html>